<div id="map" class="map"
  (dragover)="onFileHovered($event)"
  ></div>

<app-nav-bar
  (openQueue)="onOpenDownloadQueue()"
  (doSearch)="onDoSearch()"
  [showFilters]="!(isFiltersMenuOpen$ | async) && (areProductsLoaded$ | async)"
  [isSideMenuOpen]="isSidebarOpen$ | async"
  [ngClass]="{'hidden': isUiHidden}"
  [products]="queuedProducts$ | async"
  ></app-nav-bar>

<app-file-upload
  (dialogClose)="onFileUploadDialogClosed($event)"
  (newSearchPolygon)="onNewSearchPolygon($event)"
  [interaction$]="interactionMode$">
</app-file-upload>

<app-map-controls
  [ngClass]="{'hidden': isUiHidden}"
  ></app-map-controls>

<div class="view-reset-button-position" [ngClass]="{'hidden': !isUiHidden}">
  <button (click)="onShowUi()" mat-raised-button>
    <mat-icon>settings_backup_restore</mat-icon>
  </button>
</div>

<app-attributions
  [mousePos]="mousePosition$ | async">
</app-attributions>
