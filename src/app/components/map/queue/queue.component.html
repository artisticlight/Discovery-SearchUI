<h2>Download Queue</h2>
<button mat-raised-button (click)="onClearQueue()">Clear Queue</button>

<mat-list role="list">
  <ng-container *ngIf="products$ | async as products">
    <mat-list-item
      *ngFor="let product of products"
      role="listitem">
        <h4 mat-line fxLayout="row" fxLayoutAlign="space-between">
          <div>
            <span *ngIf="product.id.length > 29">
              <b>{{ product.id | truncate : 21 }}{{ product.id | truncate : -4 : '' }}</b>
            </span>
            <span *ngIf="product.id.length <= 29">
              <b>{{ product.id }}</b>
            </span>
          </div>

          <a matTooltip="Download" target="_blank" [href]="product.downloadUrl">
            <mat-icon style="cursor: pointer">
                cloud_download
            </mat-icon>
          </a>
          <mat-icon (click)="onRemoveProduct(product)" style="cursor: pointer">
              close
          </mat-icon>
        </h4>
    </mat-list-item>
  </ng-container>
</mat-list>

<button mat-raised-button color="primary"
  class="metadata-dl-btn"
  (click)="onMakeDownloadScript()">
    Download Python Script (.py)
</button>

<button mat-raised-button color="primary"
  class="metadata-dl-btn"
  (click)="onCsvDownload()">
  Metadata (csv)
</button>

<button mat-raised-button color="primary"
  class="metadata-dl-btn"
  (click)="onKmlDownload()">
  Metadata (kml)
</button>

<button mat-raised-button color="primary"
  class="metadata-dl-btn"
  (click)="onGeojsonDownload()">
  Metadata (geojson)
</button>

<button mat-raised-button color="primary"
  class="metadata-dl-btn"
  (click)="onMetalinkDownload()">
  Metadata (metalink)
</button>
