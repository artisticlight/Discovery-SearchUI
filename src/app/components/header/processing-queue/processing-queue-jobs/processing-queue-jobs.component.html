<div class="jobs-list">
  <mat-list *ngIf="!areJobsLoading" role="list" class="flex-list">
    <ng-container
      *ngIf="jobs.length > 0 ; then jobsQueued; else emptyQueue">
    </ng-container>

    <ng-template #jobsQueued>
      <mat-list-item *ngFor="let job of jobs" class="job-list-item">
          <img matListAvatar
               [src]="job.granules[0].thumbnail"
               onerror="this.src='assets/no-thumb.png'"
               matBadgeOverlap="false"
               matListAvatar>

          <div matLine class="granule-name">
            {{ job.granules[0].name }}
          </div>

          <div matLine>
            <b>
              {{ job.job_type }}
            </b>
            <b>
              <span *ngIf="job.granules[0].bytes === 0">Virtual</span>
              <span *ngIf="job.granules[0].bytes !== 0">{{ job.granules[0].bytes | readableSizeFromBytes }}</span>
            </b>
          </div>

          <div class="button-remove-job">
            <button (click)="onRemoveJob(job)"
                    matTooltip="Remove job"
                    mat-icon-button>
              <mat-icon>close</mat-icon>
            </button>
          </div>

      </mat-list-item>
      <template #emptyQueue>
        <div class="jobs-empty-message">
          <br><br>
          Your jobs queue is empty.
        </div>
        <div class="jobs-empty-message-docs-link">
          <a href="https://hyp3-docs.asf.alaska.edu/" target="_blank">
            On Demand (HyP3) Documentation
          </a>
        </div>
      </template>
    </ng-template>

    <ng-template #emptyQueue>
      <div class="jobs-empty-message">
        <br><br>
        Your jobs queue is empty.
      </div>
      <div class="jobs-empty-message-docs-link">
        <a href="https://hyp3-docs.asf.alaska.edu/" target="_blank">
          On Demand (HyP3) Documentation
        </a>
      </div>
    </ng-template>

  </mat-list>
</div>
