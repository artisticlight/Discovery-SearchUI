<mat-card style="padding: 0;" class="p0">
  <mat-card-title-group style="margin-bottom: 0 !important;" class="card-title-group">
    <mat-card-title>Processing Queue</mat-card-title>
    <mat-card-subtitle> <b>{{ user }}</b> - {{ remaining }}/{{ limit }} monthly jobs</mat-card-subtitle>

    <div class="close-x" (click)="onCloseDialog()">
      <mat-icon>close</mat-icon>
    </div>

    <mat-card-subtitle>
    </mat-card-subtitle>
  </mat-card-title-group>

  <mat-card-content>
    <div class="jobs-dialog">
      <div class="jobs-display">

        <div class="jobs-list-panel">
          <div class="jobs-list">
            <mat-action-list *ngIf="!areJobsLoading" role="list">
              <button mat-list-item *ngFor="let job of jobs">

                <img matListAvatar
                  [src]="job.granules[0].thumbnail"
                  onerror="this.src='assets/no-thumb.png'"
                  matBadgeOverlap="false"
                  matListAvatar>

                <div matLine>
                  {{ job.granules[0].name }}
                </div>

                <div matLine>
                  <b>
                    <span *ngIf="job.granules[0].bytes === 0">Virtual</span>
                    <span *ngIf="job.granules[0].bytes !== 0">{{ job.granules[0].bytes | readableSizeFromBytes }}</span>
                  </b>
                </div>
              </button>
            </mat-action-list>
          </div>
        </div>

        <div class="jobs-detail">
          <div style="margin: 10px;">
            <div>
              <mat-form-field>
                <mat-label>Project Name</mat-label>
                <input matInput type="text" [(ngModel)]="projectName">
              </mat-form-field>
            </div>
            <div>
              <mat-form-field>
                <mat-label>Radiometry</mat-label>
                <mat-select [(value)]="radiometry">
                  <mat-option value="gamma0">gamma0</mat-option>
                  <mat-option value="sigma0">sigma0</mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <div>
              <mat-form-field>
                <mat-label>Scale</mat-label>
                <mat-select [(value)]="scale">
                  <mat-option value="power">power</mat-option>
                  <mat-option value="amplitude">amplitude</mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <div>
              <mat-slide-toggle [(ngModel)]="demMatching">
                Dem Matching
              </mat-slide-toggle>
            </div>
            <div>
              <mat-slide-toggle [(ngModel)]="includeDem">
                Include Dem
              </mat-slide-toggle>
            </div>
            <div>
              <mat-slide-toggle [(ngModel)]="includeIncMap">
                Include Inc Map
              </mat-slide-toggle>
            </div>
            <div>
              <mat-slide-toggle [(ngModel)]="speckleFilter">
                Speckle Filter
              </mat-slide-toggle>
            </div>
            <div style="padding-top: 20px;">
              <button mat-raised-button (click)="onSubmitQueue()" color="primary">Submit Queue</button>
            </div>
          </div>
        </div>
      </div>
      <div class="w100 hyp3-footer"></div>
    </div>
  </mat-card-content>
</mat-card>
