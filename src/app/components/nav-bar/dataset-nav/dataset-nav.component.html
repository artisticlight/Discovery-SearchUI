<div fxLayout="row" fxLayout.lt-md="column" class="breadcrumb-row">
  <div fxLayout="row">

    <app-search-type-selector class="breadcrumb">
    </app-search-type-selector>

    <app-dataset-selector
       fxFlex="130px"
       (click)="closeAOIOptions()"
       class="breadcrumb">
    </app-dataset-selector>

    <!-- AOI FILTER -->
    <form fxFlex="160px" fxFlex.lt-md="grow"
          #polygonForm="ngForm"
          class="breadcrumb"
          (mouseenter)="isHoveringAOISelector = true"
          (mouseleave)="isHoveringAOISelector = false"
          (keydown.enter)="$event.preventDefault()">

      <mat-form-field
        [class.invalid-input-animation]="isAOIError"
        class="full-width">
        <label>
          <input
            (change)="onInputSearchPolygon($event.target.value)"
            [value]="polygon"
            [(ngModel)]="polygon"
            name="searchPolygon"
            matInput placeholder="Area of Interest â€¢ WKT">
        </label>

        <mat-icon
          *ngIf="!!polygon" (click)="onCopy()"
          matTooltip="Copy to clipboard"
          [class.ghost-item]="!isHoveringAOISelector"
          class="clickable copy-icon" matSuffix>
          file_copy
        </mat-icon>
        <mat-icon
          (click)="toggleAOIOptions()"
          matTooltip="More options"
          class="clickable additional-aoi-toggle"
          matSuffix>
          {{ isAOIOptionsOpen ? 'arrow_drop_up' : 'arrow_drop_down' }}
        </mat-icon>
      </mat-form-field>

      <mat-card *ngIf="isAOIOptionsOpen"
               [@fadeTransition]
                class="breadcrumb-filter">
        <app-aoi-options
          (close)="clearSelectedBreadcrumb()"></app-aoi-options>
      </mat-card>
    </form>
</div>

<div fxLayout.lt-md="row">
  <!-- DATES START/END AND MORE ... FILTER -->
    <div fxLayout="row">
      <div fxFlex="300px" fxFlex.lt-lg="50"
           class="breadcrumb">
        <app-date-selector></app-date-selector>
      </div>

      <div fxFlex="nogrow" class="breadcrumb">
        <button (click)="onToggleFiltersMenu()"
                mat-button class="additional-filters-button">
          More
          <br>
          <mat-icon>more_horiz</mat-icon>
        </button>
      </div>

      <div fxFlex="noshrink" class="breadcrumb search-controls">
        <app-search-button></app-search-button>
        <app-clear-button></app-clear-button>
        <div class="max-results">
          <app-max-results-selector></app-max-results-selector>
        </div>
      </div>
    </div>

    <div class="icon-cluster">
      <app-nav-buttons
        (openQueue)="onOpenDownloadQueue()"
        [queuedProducts]="queuedProducts$ | async">
      </app-nav-buttons>
    </div>
  </div>
</div>
