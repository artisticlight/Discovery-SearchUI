<mat-accordion multi>
  <mat-expansion-panel [expanded]="defaultPanelOpenState" [disabled]="panelIsDisabled">
    <mat-expansion-panel-header [collapsedHeight]="customCollapsedHeight" [expandedHeight]="customExpandedHeight">
      <mat-panel-title>
        Search Filters
      </mat-panel-title>
    </mat-expansion-panel-header>

    <div style="margin-top: 15px;">
      <app-dataset-selector>
      </app-dataset-selector>

      <app-aoi-options [showHeader]="false"></app-aoi-options>
    </div>
  </mat-expansion-panel>

  <mat-expansion-panel [expanded]="defaultPanelOpenState" [disabled]="panelIsDisabled">
    <mat-expansion-panel-header [collapsedHeight]="customCollapsedHeight" [expandedHeight]="customExpandedHeight">
      <mat-panel-title>
        Date Filters
      </mat-panel-title>
    </mat-expansion-panel-header>

    <div style="margin-top: 15px;">
      <app-date-selector></app-date-selector>
    </div>
    <div>
      <app-season-selector></app-season-selector>
    </div>
  </mat-expansion-panel>

  <mat-expansion-panel [expanded]="defaultPanelOpenState" [disabled]="panelIsDisabled">
    <mat-expansion-panel-header [collapsedHeight]="customCollapsedHeight" [expandedHeight]="customExpandedHeight">
      <mat-panel-title>
        Additional Filters
      </mat-panel-title>
    </mat-expansion-panel-header>

    <div class="selector-card-spacing">
      <app-other-selector></app-other-selector>
    </div>
  </mat-expansion-panel>

  <mat-expansion-panel *ngIf="prop.isRelevant(p.PATH) || prop.isRelevant(p.FRAME)"
    [expanded]="defaultPanelOpenState" [disabled]="panelIsDisabled">
    <mat-expansion-panel-header [collapsedHeight]="customCollapsedHeight" [expandedHeight]="customExpandedHeight">
      <mat-panel-title>
        Path and Frame Filters
      </mat-panel-title>
    </mat-expansion-panel-header>

    <div class="selector-card-spacing">
      <app-path-selector></app-path-selector>
    </div>
  </mat-expansion-panel>

  <mat-expansion-panel *ngIf="prop.isRelevant(p.MISSION_NAME)"
    [expanded]="defaultPanelOpenState" [disabled]="panelIsDisabled">
    <mat-expansion-panel-header [collapsedHeight]="customCollapsedHeight" [expandedHeight]="customExpandedHeight">
      <mat-panel-title>
        Campaign Selector
      </mat-panel-title>
    </mat-expansion-panel-header>

    <app-mission-search
      (newMissionSelected)="onNewMissionSelected($event)"
      [dataset$]="dataset$"
      [selectedMission]="selectedMission$ | async"
      [missionsByDataset$]="missionsByDataset$"
      [missionDatasets$]="missionDatasets$">
    </app-mission-search>
  </mat-expansion-panel>

</mat-accordion>
