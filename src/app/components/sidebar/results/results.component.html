<ng-container *ngIf="selectedGranule$ | async as selected">
  <app-granule-detail
      *ngIf="!!selected"
      (newFocusedGranule)="onNewFocusedGranule($event)"
      (clearFocusedGranule)="onClearFocusedGranule($event)"
      (newQueueItem)="onNewQueueItem($event)"
      (newQueueItems)="onNewQueueItems($event)"
      [granule]="selected"
      [products]="selectedProducts$ | async">
  </app-granule-detail>
</ng-container>

<app-granules-list
  (newFocusedGranule)="onNewFocusedGranule($event)"
  (clearFocusedGranule)="onClearFocusedGranule()"
  (newSelected)="onNewGranuleSelected($event)"
  (queueGranule)="onQueueGranuleProducts($event)"
  [granules$]="granules"
  [selected]="(selectedGranule$ | async)?.name">
</app-granules-list>
