<!--<div *ngIf="breakpoint$ | async as breakpoint">-->
<!--  <mat-form-field class="w100">-->
<!--    <mat-label>Dataset</mat-label>-->
<!--    <mat-select-->
<!--      [(ngModel)]="selected"-->
<!--      (selectionChange)="onSelectionChange($event.value)"-->
<!--      #datasetSelector>-->
<!--      <mat-option-->
<!--        *ngFor="let dataset of datasets"-->
<!--        [class.selected]="dataset.id === selected"-->
<!--        [value]="dataset.id">-->
<!--        <ng-container *ngIf="datasetSelector.panelOpen">-->
<!--          <app-dataset-->
<!--            class="list-group-item list-group-item-action"-->
<!--            [dataset]="dataset">-->
<!--          </app-dataset>-->
<!--        </ng-container>-->
<!--        <ng-container *ngIf="!datasetSelector.panelOpen">-->
<!--          {{ dataset.name }}-->
<!--        </ng-container>-->
<!--      </mat-option>-->
<!--    </mat-select>-->
<!--  </mat-form-field>-->
<!--</div>-->

<div *ngIf="breakpoint$ | async as breakpoint">
  <div class="menu-button-wrapper" [class.mobile-button-wrapper]="breakpoint === breakpoints.MOBILE">
    <div class="button-label">Dataset</div>
    <div>
      <button
        [matMenuTriggerFor]="platformMenu"
        class="button-menu-trigger" color="basic"
        matTooltip="{{ selected }}"
        mat-button>
        <div class="button-text">
          {{ selected }}
          <span class="mat-select-arrow"></span>
        </div>
      </button>
      <div class="hr-wrapper"><hr class="text-underline"></div>
    </div>
  </div>

  <mat-menu #platformMenu="matMenu" [(ngModel)]="selected" ngDefaultControl>

    <div *ngIf="(breakpoint$ | async) === breakpoints.MOBILE">
      <div class="dataset-list">
        <div *ngFor="let dataset of datasets"
             [class.selected]="dataset.id === selected">
          <button mat-menu-item (click)="onSelectionChange(dataset.id)" class="mat-menu-item mobile-search-item">
            <app-dataset [dataset]="dataset">
              {{ dataset.name }}
            </app-dataset>
          </button>
        </div>
      </div>
    </div>

    <div *ngIf="(breakpoint$ | async) !== breakpoints.MOBILE">
      <div class="dataset-list">
            <div *ngFor="let dataset of datasets; last as isLast">
              <div class="menu-item mat-menu-item" (click)="onSelectionChange(dataset.id)">
                <div class="menu-item-inner">
                  <div fxFlex="80%" class="menu-item-content">
                    <div class="item-title">
                      {{ dataset.name }}
                    </div>
                    <div class="item-content" [ngClass]="{'limitTextHeight': isReadMore}">
                      {{ dataset.platformDesc }}
                    </div>
                    <mat-card-actions (click)="onOpenDocs($event)">
                      <app-docs-modal class="info-text"
                                      text="More info"
                                      url="{{ dataset.infoUrl }}">
                      </app-docs-modal>
                    </mat-card-actions>
                  </div>
                  <div fxFlex="20%" class="menu-item-aside">
                  <span class="material-icons-outlined menu-item-icon">
                    <img src="{{ dataset.platformIcon }}" width="70" height="70">
                  </span>
                  </div>
                </div>
              </div>
              <hr *ngIf="!isLast" class="dataset-hr">
            </div>
      </div>
    </div>
  </mat-menu>

</div>
