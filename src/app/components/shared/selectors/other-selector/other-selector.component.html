<div>
  <mat-form-field>
    <mat-select
      [(ngModel)]="productTypes"
      (selectionChange)="onNewProductTypes($event.value)"
      [disabled]="dataset.productTypes.length < 1"
      placeholder="File Type" multiple>
        <mat-option
          *ngFor="let type of dataset.productTypes"
          [value]="type"
          [matTooltip]="type.displayName">
            {{type.displayName}}
        </mat-option>
    </mat-select>
    <mat-hint *ngIf="dataset.productTypes.length >= 1" align="start">
      {{ productTypes?.length || 0 }}/{{ dataset.productTypes.length }}
      file types selected
    </mat-hint>

    <mat-hint *ngIf="dataset.productTypes.length < 1" align="start">
      No file types to select
    </mat-hint>
  </mat-form-field>

  <mat-form-field>
    <mat-select
      (selectionChange)="onNewDatasetBeamModes($event.value)"
      [(ngModel)]="beamModes"
      [disabled]="!prop.isRelevant(p.BEAM_MODE)"
      placeholder="Beam Mode" multiple>
        <mat-option *ngFor="let mode of dataset.beamModes" [value]="mode">
          {{mode}}
        </mat-option>
    </mat-select>
    <mat-hint *ngIf="prop.isRelevant(p.BEAM_MODE)"  align="start">
      {{ beamModes?.length || 0 }}/{{ dataset.beamModes.length }}
      beam modes selected
    </mat-hint>

    <mat-hint *ngIf="!prop.isRelevant(p.BEAM_MODE)" align="start">
      No beam modes to select
    </mat-hint>
  </mat-form-field>

  <mat-form-field>
    <mat-select
      (selectionChange)="onNewDatasetPolarizations($event.value)"
      [(ngModel)]="polarizations"
      [disabled]="!prop.isRelevant(p.POLARIZATION)"
      placeholder="Polarization" multiple>
      <mat-option *ngFor="let pol of dataset.polarizations" [value]="pol">
        {{pol}}
      </mat-option>
    </mat-select>
    <mat-hint *ngIf="prop.isRelevant(p.POLARIZATION)"  align="start">
      {{ polarizations?.length || 0 }}/{{ dataset.polarizations.length }}
      polarizations selected
    </mat-hint>
    <mat-hint *ngIf="!prop.isRelevant(p.POLARIZATION)" align="start">
      No polarizations to select
    </mat-hint>

  </mat-form-field>

  <mat-form-field>
    <mat-select
      (selectionChange)="onNewFlightDirectionsSelected($event.value)"
      [(ngModel)]="flightDirections"
      [disabled]="!prop.isRelevant(p.FLIGHT_DIRECTION)"
      placeholder="Direction" multiple>
      <mat-option *ngFor="let direction of flightDirectionTypes" [value]="direction">
        {{direction}}
      </mat-option>
    </mat-select>

    <mat-hint *ngIf="prop.isRelevant(p.FLIGHT_DIRECTION)" align="start">
      {{ flightDirections?.length || 0 }}/2
      flight directions selected
    </mat-hint>
    <mat-hint *ngIf="!prop.isRelevant(p.FLIGHT_DIRECTION)" align="start">
      No flight directions to select
    </mat-hint>
  </mat-form-field>

  <mat-button-toggle-group
    *ngIf="prop.isRelevant(p.SUBTYPE)"
    (change)="onNewSubtypeSelected($event.value)"
    [(ngModel)]="subtypes"
    name="datasetSubtype" aria-label="Dataset Subtype" multiple>
      <mat-button-toggle *ngFor="let subtype of dataset.subtypes"
        [value]="subtype"
        [matTooltip]="subtype.displayName">
        {{ subtype.apiValue }}
      </mat-button-toggle>
  </mat-button-toggle-group>
</div>
