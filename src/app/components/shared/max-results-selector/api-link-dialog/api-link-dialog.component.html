<div fxLayout="column" fxLayoutAlign="space-evenly stretch">
  <div style="display: flex; flex-direction: row; justify-content: space-between;">
    <div style="font-weight: bold; font-size: 30px; margin-bottom: 13px" mat-dialog-title>Download Search Results</div>
    <div>
        <mat-icon (click)="onCloseDownloadQueue()" class="clickable">
          close
        </mat-icon>
    </div>
  </div>

  <div style="margin-bottom: 5px;">
    Use an api query to download more results manually.
  </div>

  <form #apiLinkForm="ngForm" onsubmit="return false">
    <mat-form-field style="margin-right: 10px">
      <mat-label>Amount</mat-label>
      <input type="number" name="amount"
      [(ngModel)]="amount"
      (change)="onAmountChange($event.target.value)"
      matInput>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Format</mat-label>
      <mat-select
        [(ngModel)]="format"
        (selectionChange)="onFormatChange($event.value)" name="format">
        <mat-option *ngFor="let format of formats" [value]="format.value">
          {{format.viewValue}}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field style="width: 100%">
      <mat-label>Api URL</mat-label>
      <textarea (click)="$event.target.select()"
        name="Api URL" [readonly]="true" [(ngModel)]="apiLink" matInput
        cdkTextareaAutosize cdkAutosizeMinRows="2"
        cdkAutosizeMaxRows="6">
      </textarea>

      <mat-icon
        *ngIf="!!apiLink" (click)="onCopyLink()"
        matTooltip="Copy to clipboard"
        class="clickable copy-icon" matSuffix>
        file_copy
      </mat-icon>
    </mat-form-field>
  </form>
</div>
