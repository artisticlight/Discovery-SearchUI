<mat-card class="card-spacing"
  (keydown)="onListKeydown($event.key)"
  >
  <mat-action-list>
    <button
      *ngFor="let granule of currentPageOf(granules, pageSize, pageIndex)"
      mat-list-item
      (mouseenter)="onSetFocusedGranule(granule)"
      (mouseleave) ="onClearFocusedGranule(granule)"
      (click)="onGranuleSelected(granule.id)"
      [ngClass]="{'selected': granule.name === selected}" >

        <img matListAvatar
          [src]="granule.browse"
          onerror="this.src='assets/error.png'"
          class="size" >

        <app-product-name [name]="granule.name" matLine></app-product-name>

        <div matLine>
          <span matTooltip="Path" matTooltipPosition="after">{{ granule.metadata.path }}</span>,
          <span matTooltip="Frame" matTooltipPosition="after">{{ granule.metadata.frame }}</span>,
          <span matTooltip="Polarization" matTooltipPosition="after">{{ granule.metadata.polarization }}</span>,
          <span matTooltip="Flight Direction" matTooltipPosition="after"
            >{{ granule.metadata.flightDirection === 'ASCENDING' ? 'ASC' : 'DES' }}</span>,
          <span matTooltip="Absolute Orbit" matTooltipPosition="after">{{ granule.metadata.absoluteOrbit }}</span>
        </div>

        <fa-icon class="ml-2"
          (click)="onQueueGranule($event, granule.groupId)"
          matTooltip="Queue this granules products"
          [icon]="queueIcon"></fa-icon>

    </button>
  </mat-action-list>

  <mat-paginator [length]="granules.length"
                [pageSize]="pageSize"
                [pageSizeOptions]="pageSizeOptions"
                (page)="onNewPage($event)">
  </mat-paginator>
</mat-card>
